{% extends "pwa_base.html" %}
{% from '_components/form_field.html' import text_input, textarea, select_field %}

{% block title %}New Trip | Printellect{% endblock %}

{% block header_title %}New Trip{% endblock %}

{% block header_left %}
{% set back_url = '/trips' %}
{% set back_label = 'Trips' %}
{% set back_style = 'header' %}
{% include '_components/back_button.html' %}
{% endblock %}

{% block content %}
<div class="max-w-xl mx-auto">
  
  <div class="mb-6">
    <h1 class="text-2xl font-bold flex items-center gap-2">
      <span class="text-2xl">✈️</span>
      Create New Trip
    </h1>
    <p class="text-zinc-400 text-sm mt-1">Plan your next adventure</p>
  </div>
  
  <form action="/trips/new" method="POST" class="space-y-5" data-loading="Creating trip...">
    
    <!-- Trip Name -->
    {{ text_input(
        name='title',
        label='Trip Name',
        required=true,
        placeholder='e.g., Vegas Birthday Trip 2025'
    ) }}
    
    <!-- Destination -->
    {{ text_input(
        name='destination',
        label='Destination',
        required=true,
        placeholder='e.g., Las Vegas, Nevada'
    ) }}
    
    <!-- Dates -->
    <div class="grid grid-cols-2 gap-4">
      {{ text_input(
          name='start_date',
          label='Start Date',
          type='date',
          required=true
      ) }}
      {{ text_input(
          name='end_date',
          label='End Date',
          type='date',
          required=true
      ) }}
    </div>
    
    <!-- Timezone -->
    {{ select_field(
        name='timezone',
        label='Timezone',
        options=[
          ('America/Los_Angeles', 'Pacific Time (Las Vegas)'),
          ('America/Denver', 'Mountain Time'),
          ('America/Chicago', 'Central Time'),
          ('America/New_York', 'Eastern Time'),
          ('Europe/London', 'London'),
          ('Europe/Paris', 'Paris'),
          ('Asia/Tokyo', 'Tokyo')
        ]
    ) }}

    <!-- Budget -->
    {{ text_input(
        name='budget',
        label='Budget',
        type='number',
        step='0.01',
        min=0,
        prefix='$',
        placeholder='e.g., 1200',
        help='Track total spend across events'
    ) }}
    
    <!-- Description -->
    {{ textarea(
        name='description',
        label='Description',
        rows=3,
        placeholder='Notes about the trip...'
    ) }}
    
    <!-- Submit -->
    <div class="flex gap-3 pt-4">
      <a href="/trips" class="flex-1 px-6 py-3 bg-zinc-800 hover:bg-zinc-700 rounded-xl font-medium text-center transition">
        Cancel
      </a>
      <button type="submit" class="flex-1 px-6 py-3 bg-indigo-600 hover:bg-indigo-700 rounded-xl font-medium transition">
        Create Trip
      </button>
    </div>
    
  </form>
  
</div>
{% endblock %}
